{"version":3,"sources":["components/Login/Login.module.css","components/UI/Input/input.module.css","components/UI/Card/Card.module.css","components/UI/Button/Button.module.css","components/Home/Home.module.css","components/MainHeader/Navigation.module.css","components/MainHeader/MainHeader.module.css","components/store/auth-context.js","components/UI/Card/Card.js","components/UI/Button/Button.js","components/UI/Input/Input.js","components/Login/Login.js","components/Home/Home.js","components/MainHeader/Navigation.js","components/MainHeader/MainHeader.js","App.js","index.js"],"names":["module","exports","AuthContext","React","createContext","isLoggedIn","onLogout","onLogin","email","password","AuthContextComponent","props","useState","setIsLoggedIn","useEffect","localStorage","getItem","Provider","value","clear","setItem","children","Card","className","classes","card","Button","type","button","onClick","disabled","Input","forwardRef","ref","inputRef","useRef","activate","current","focus","useImperativeHandle","control","isValid","invalid","htmlFor","For","title","id","onChange","changeHandler","onBlur","validateHandler","inputReducer","prevState","action","payload","val","includes","length","formIsValid","Login","ctx","useContext","emailRef","passwordRef","useReducer","enteredInput","dispatchInput","fieldEntry","setTimeout","clearTimeout","login","onSubmit","event","preventDefault","target","actions","btn","Home","home","Navigation","nav","href","MainHeader","App","Fragment","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.c00eb806.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__2Px22\",\"actions\":\"Login_actions__1b5Oz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"input_control__7EVew\",\"invalid\":\"input_invalid__10w9F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1te4P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2lgkF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__3idT9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__JfAVK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-header\":\"MainHeader_main-header__2OmAM\"};","import React, {useState, useEffect} from \"react\";\n\nconst AuthContext = React.createContext({\n    isLoggedIn : false,\n    onLogout : () => {},\n    onLogin: (email, password) => {}\n});\n\nexport const AuthContextComponent = (props) =>{\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n    useEffect(()=>{\n        const checkAuth = localStorage.getItem(\"isloggedIn\");\n        if(checkAuth === '1'){\n          return setIsLoggedIn(true);\n        }\n      },[]);\n\n      const loginHandler = (email, password) => {\n        localStorage.setItem(\"isloggedIn\", '1');\n        setIsLoggedIn(true);\n      };\n    \n      const logoutHandler = () => {\n        localStorage.clear();\n        setIsLoggedIn(false);\n      };\n\n    return <AuthContext.Provider value={{\n        isLoggedIn : isLoggedIn,\n        onLogout : logoutHandler,\n        onLogin: loginHandler\n    }}>\n        {props.children}\n    </AuthContext.Provider>\n\n};\n\nexport default AuthContext;","import React from 'react';\n\nimport classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <div className={`${classes.card} ${props.className}`}>{props.children}</div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst Button = (props) => {\n  return (\n    <button\n      type={props.type || 'button'}\n      className={`${classes.button} ${props.className}`}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, {useRef, useImperativeHandle} from 'react';\nimport classes from './input.module.css';\n\nconst Input = React.forwardRef((props, ref) => {\n    const inputRef = useRef();\n\n    const activate = () => {\n        inputRef.current.focus();\n    };\n\n    useImperativeHandle(ref,()=>{\n        return {focus: activate}\n    });\n    \n    return <div\n    className={`${classes.control} ${\n      props.isValid === false ? classes.invalid : ''\n    }`}\n  >\n    <label htmlFor={props.For}>{props.title}</label>\n          <input\n            ref={inputRef}\n            type={props.type}\n            id={props.For}\n            value={props.value}\n            onChange={props.changeHandler}\n            onBlur={props.validateHandler}\n          />\n    </div>\n});\n\nexport default Input;","import React, { useReducer, useEffect, useContext, useRef } from 'react';\nimport AuthContext from '../store/auth-context';\n\nimport Card from '../UI/Card/Card';\nimport classes from './Login.module.css';\nimport Button from '../UI/Button/Button';\nimport Input from '../UI/Input/Input';\n\nconst inputReducer = (prevState, action) => {\n  switch (action.type){\n    case 'EMAIL_INPUT' : return {...prevState,email:{value: action.payload.val, isValid: action.payload.val.includes('@')}};\n    case 'VALID_EMAIL' : return {...prevState,email:{value: prevState.email.value, isValid: prevState.email.value.includes('@')}};\n    case 'PWD_INPUT' : return {...prevState, password: {value: action.payload.val, isValid: action.payload.val.length > 6}};\n    case 'VALID_PWD' : return {...prevState, password:{value: prevState.password.value, isValid: prevState.password.value.length > 6}};\n    case 'VALID_INPUT' : return {...prevState, formIsValid: prevState.email.value.includes('@') && prevState.password.value.length > 6}\n    default: return {value:\"\", isValid:false};\n  }\n};\n\nconst Login = () => {\n\n  const ctx = useContext(AuthContext);\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const formInit = {\n    email: {value:\"\",isValid: null},\n    password: {value:\"\",isValid: null},\n    formIsValid: false\n  };\n\n  const [enteredInput, dispatchInput] = useReducer(inputReducer, formInit);\n\n  useEffect(()=>{\n    const fieldEntry = setTimeout(()=>{\n      dispatchInput({type:'VALID_INPUT'});\n    },500);\n\n    return ()=>{\n      clearTimeout(fieldEntry)\n    }\n  },[enteredInput.email.isValid, enteredInput.password.isValid])\n  \n  useEffect(()=>{\n    emailRef.current.focus();\n  },[]);\n\n  const emailChangeHandler = (event) => {\n    dispatchInput({'type':'EMAIL_INPUT',payload:{val:event.target.value}});\n  };\n\n  const passwordChangeHandler = (event) => {\n    dispatchInput({'type':'PWD_INPUT',payload:{val:event.target.value}});\n  };\n\n  const validateEmailHandler = () => {\n    dispatchInput({type:'VALID_EMAIL'});\n  };\n\n  const validatePasswordHandler = () => {\n    dispatchInput({type:'VALID_PWD'});\n    \n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    if(enteredInput.email.isValid && enteredInput.password.isValid)\n      ctx.onLogin(enteredInput.email.value, enteredInput.password.value);\n    else if(!enteredInput.email.isValid)\n      emailRef.current.focus();\n    else \n      passwordRef.current.focus();\n  };\n\n  return (\n    <Card className={classes.login}>\n        <form onSubmit={submitHandler}>\n          <Input\n            ref={emailRef} \n            isValid = {enteredInput.email.isValid}\n            For=\"email\" \n            type=\"email\"\n            title=\"Email\"\n            value={enteredInput.email.value}\n            changeHandler = {emailChangeHandler}\n            validateHandler = {validateEmailHandler}\n          />\n      \n           <Input \n            ref={passwordRef} \n            isValid = {enteredInput.password.isValid}\n            For=\"password\" \n            type=\"password\"\n            title=\"Password\"\n            value={enteredInput.password.value}\n            changeHandler = {passwordChangeHandler}\n            validateHandler = {validatePasswordHandler}\n          />\n\n          <div className={classes.actions}>\n            <Button type=\"submit\" className={classes.btn} >\n              Login\n            </Button>\n          </div>\n        </form>\n    </Card>\n  );\n};\n\nexport default Login;\n","import React,{useContext} from 'react';\nimport AuthContext from '../store/auth-context';\n\nimport Card from '../UI/Card/Card';\nimport Button from '../UI/Button/Button';\nimport classes from './Home.module.css';\n\nconst Home = () => {\n  const ctx = useContext(AuthContext);\n\n  return (\n    <Card className={classes.home}>\n      <h1>Welcome back!</h1>\n      <Button onClick={ctx.onLogout}>Logout</Button>\n    </Card>\n  );\n};\n\nexport default Home;\n","import React,{useContext} from 'react';\n\nimport classes from './Navigation.module.css';\nimport AuthContext from '../store/auth-context';\n\nconst Navigation = () => {\n  const ctx = useContext(AuthContext);\n  return (<nav className={classes.nav}>\n      <ul>\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Users</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Admin</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <button onClick={ctx.onLogout}>Logout</button>\n          </li>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import React from 'react';\n\nimport Navigation from './Navigation';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = (props) => {\n  return (\n    <header className={classes['main-header']}>\n      <h1>A Typical Page</h1>\n      <Navigation/>\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import React, { useContext } from 'react';\n\nimport Login from './components/Login/Login';\nimport Home from './components/Home/Home';\nimport MainHeader from './components/MainHeader/MainHeader';\nimport AuthContext from './components/store/auth-context';\n\nfunction App() {\n  const ctx = useContext(AuthContext);\n  return (\n    <React.Fragment>\n      <MainHeader/>\n      <main>\n        {!ctx.isLoggedIn && <Login/>}\n        {ctx.isLoggedIn && <Home/>}\n      </main>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\nimport {AuthContextComponent} from './components/store/auth-context'\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<AuthContextComponent><App /></AuthContextComponent>);\n"],"sourceRoot":""}